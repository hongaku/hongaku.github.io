<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>Workflows</title>
    <link type="text/css" rel="stylesheet" href="../../../../assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="../../../../assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="../../../../assets/css/hljs-github.min.css"/>
  </head>
  <body>
    <article class="markdown-body"><h1 id="workflows"><a class="header-link" href="#workflows"></a>Workflows</h1>
<p>In order to allow multiple people to submit multiple requests, for approvals,
by multiple users, ERPNext requires you to fill the workflow conditions.
ERPNext tracks the multiple permissions before submission.</p>
<p>Example of a leave application workflow is given below:</p>
<p>If a user applies for a leave, then his request will be sent to the HR
department. The HR department (HR User) will either reject or approve this
request. Once this process is completed, the user&#39;s Manager (leave approver)
will get an indication that the HR department has Accepted or Rejected. The
Manager, who is the approving authority, will either Approve or Reject this
request. Accordingly,the user will get his Approved or Rejected status.</p>
<p class="img-container"><img class="screenshot" alt="Workflow" src="{{docs_base_url}}/assets/img/setup/workflow-leave-fl.jpg"></p>
<p>To make this Workflow and transition rules go to :</p>
<blockquote>
<p>Setup &gt; Workflow &gt; New Workflow</p>
</blockquote>
<h4 id="step-1:-enter-the-different-states-of-leave-approval-process."><a class="header-link" href="#step-1:-enter-the-different-states-of-leave-approval-process."></a>Step 1: Enter the different states of Leave Approval Process.</h4>
<p class="img-container"><img class="screenshot" alt="Workflow" src="{{docs_base_url}}/assets/img/setup/workflow-1.png"></p>
<h4 id="step-2:-enter-transition-rules."><a class="header-link" href="#step-2:-enter-transition-rules."></a>Step 2: Enter Transition Rules.</h4>
<p class="img-container"><img class="screenshot" alt="Workflow" src="{{docs_base_url}}/assets/img/setup/workflow-2.png"></p>
<h4 id="notes:"><a class="header-link" href="#notes:"></a>Notes:</h4>
<blockquote>
<p>Note 1: When you make a workflow you essentially overwrite the code that is
written for that document. Thus the document will function based on your
workflow and not based on the pre-set code settings. Hence there might be no
submit button / option if you have not specified it in the workflow.</p>
</blockquote>
<blockquote>
<p>Note 2: Document status of saved is 0, of submitted is 1, and of cancelled is
2.</p>
</blockquote>
<blockquote>
<p>Note 3: A document cannot be cancelled unless it is submitted.</p>
</blockquote>
<blockquote>
<p>Note 4: If you wish to give the option to cancel, you will have to write a
workflow transition step that says from submitted you can cancel.</p>
</blockquote>
<h4 id="conditions"><a class="header-link" href="#conditions"></a>Conditions</h4>
<blockquote>
<p>New in Version 11</p>
</blockquote>
<p>In Version 11, you can also add a condition for the transition to be applicable. For example in this case if someone applies to leave for more than 5 days, a particular role must approve. For this in the particular transition you can set a property for <code>Condition</code> as:</p>
<pre class="hljs"><code>doc<span class="hljs-selector-class">.total_leave_days</span> &lt;= <span class="hljs-number">5</span></code></pre><p>Then if someone applied for leave for less than 5 days, only that particular transition will apply.</p>
<p>This can be extended to any property of the document.</p>
<h4 id="example-of-a-leave-application-process:"><a class="header-link" href="#example-of-a-leave-application-process:"></a>Example of a Leave Application Process:</h4>
<p>When a Leave Application is saved by Employee, the status of the document changes to &quot;Applied&quot;</p>
<p class="img-container"><img class="screenshot" alt="Workflow" src="{{docs_base_url}}/assets/img/setup/workflow-3.png"></p>
<p>When the HR User logs in, he can either Approve or Reject. If approved the
status of the document changes to &quot;Approved by HR&quot;. However, it is yet to be approved by Leave Approver.</p>
<p class="img-container"><img class="screenshot" alt="Workflow" src="{{docs_base_url}}/assets/img/setup/workflow-4.png"></p>
<p>When the Leave Approver opens the Leave Application page, he can finally &quot;Approve&quot; or &quot;Reject&quot; the Leave Application.</p>
<p class="img-container"><img class="screenshot" alt="Workflow" src="{{docs_base_url}}/assets/img/setup/workflow-5.png"></p>
<div class-"embed-container">
    <iframe src="https://www.youtube.com/embed/yObJUg9FxFs?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
    </iframe>
</div>

<p>{next}</p>
    </article>
  </body>
</html>
